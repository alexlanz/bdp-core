create sequence alarm_seq start 1 increment 1;
create sequence alarmspecification_seq start 1 increment 1;
create sequence basicdata_seq start 1 increment 1;
create sequence bdprole_seq start 1 increment 1;
create sequence bdprules_seq start 1 increment 1;
create sequence bdpuser_seq start 1 increment 1;
create sequence carparkingdynamic_seq start 1 increment 1;
create sequence carparkingdynamichistory_seq start 1 increment 1;
create sequence echargingplugoutlet_seq start 1 increment 1;
create sequence elaboration_seq start 1 increment 1;
create sequence elaborationhistory_seq start 1 increment 1;
create sequence measurement_seq start 1 increment 1;
create sequence measurementhistory_seq start 1 increment 1;
create sequence measurementstring_seq start 1 increment 1;
create sequence measurementstringhistory_seq start 1 increment 1;
create sequence station_seq start 1 increment 1;
create sequence trafficvehiclerecord_seq start 1 increment 1;
create sequence trafficvehiclerecordhistory_seq start 1 increment 1;
create sequence translation_seq start 1 increment 1;
create sequence type_seq start 1 increment 1;
create table alarm (id int8 default nextval('alarm_seq') not null, create_date timestamp, timestamp timestamp, specification_id int8, station_id int8, primary key (id));
create table alarmspecification (id int8 default nextval('alarmspecification_seq') not null, description varchar(255), name varchar(255), primary key (id));
create table bdppermissions (uuid int8 not null, period int4, role_id int8, station_id int8, type_id int8, primary key (uuid));
create table bdprole (id int8 default nextval('bdprole_seq') not null, description varchar(255), name varchar(255) not null, parent_id int8, primary key (id));
create table bdprules (id int8 default nextval('bdprules_seq') not null, period int4, role_id int8, station_id int8, type_id int8, primary key (id));
create table bdpuser (id int8 default nextval('bdpuser_seq') not null, email varchar(255) not null, enabled boolean default true not null, password varchar(255) not null, token_expired boolean default false not null, primary key (id));
create table bdpusers_bdproles (user_id int8 not null, role_id int8 not null);
create table bicyclebasicdata (id int8 default nextval('basicdata_seq') not null, station_id int8, bike_sharing_station_id int8, type_id int8, primary key (id));
create table bikesharing_station_basic_data (id int8 default nextval('basicdata_seq') not null, station_id int8, max_available int4, type_id int8, primary key (id));
create table bluetoothbasicdata (id int8 default nextval('basicdata_seq') not null, station_id int8, sim_number varchar(255), sim_serial varchar(255), primary key (id));
create table carparkingbasicdata (id int8 default nextval('basicdata_seq') not null, station_id int8, area GEOMETRY, capacity int4, disabledcapacity int4, disabledtoiletavailable boolean, email varchar(255), mainaddress varchar(255), owneroperator varchar(255), parkingtype varchar(255), permittedvehicletypes varchar(255), phonenumber varchar(255), state int4, toiletsavailable boolean, url varchar(255), womencapacity int4, primary key (id));
create table carparkingdynamic (id int4 default nextval('carparkingdynamic_seq') not null, carparkstate varchar(255), carparktrend varchar(255), createdate timestamp, exitrate float8, fillrate float8, lastupdate timestamp, occupacy int4, occupacypercentage int4, station_id int8, primary key (id));
create table carparkingdynamichistory (id int4 default nextval('carparkingdynamichistory_seq') not null, carparkstate varchar(255), carparktrend varchar(255), createdate timestamp, exitrate float8, fillrate float8, lastupdate timestamp, occupacy int4, occupacypercentage int4, station_id int8, primary key (id));
create table carpooling_user_basic_data (id int8 default nextval('basicdata_seq') not null, station_id int8, arrival varchar(255), car_type varchar(255), departure varchar(255), gender char(1), name varchar(255), pendular boolean, type varchar(255), hub_id int8, primary key (id));
create table carpooling_user_basic_data_translation (carpooling_user_basic_data_id int8 not null, location_id int8 not null, location_KEY varchar(255) not null, primary key (carpooling_user_basic_data_id, location_KEY));
create table carpoolinghub_basic_data (id int8 default nextval('basicdata_seq') not null, station_id int8, primary key (id));
create table carpoolinghub_basic_data_translation (carpoolinghub_basic_data_id int8 not null, i18n_id int8 not null, i18n_KEY varchar(255) not null, primary key (carpoolinghub_basic_data_id, i18n_KEY));
create table carsharing_car_station_basic_data (id int8 default nextval('basicdata_seq') not null, station_id int8, brand varchar(255), license_plate varchar(255), carsharing_station_id int8, primary key (id));
create table carsharing_station_basic_data (id int8 default nextval('basicdata_seq') not null, station_id int8, can_book_ahead boolean, company_short_name varchar(255), has_fixed_parking boolean, parking int4, spontaneously boolean, primary key (id));
create table data_type_i18n (data_type_id int8 not null, i18n varchar(255), i18n_KEY varchar(255) not null, primary key (data_type_id, i18n_KEY));
create table echarging_plug_basic_data (id int8 default nextval('basicdata_seq') not null, station_id int8, e_station_id int8, primary key (id));
create table echarging_plug_outlet (id int8 default nextval('echargingplugoutlet_seq') not null, code varchar(255), has_fixed_cable boolean, max_current float8, max_power float8, min_current float8, plug_type varchar(255), plug_id int8, primary key (id));
create table echargingstation_basic_data (id int8 default nextval('basicdata_seq') not null, station_id int8, access_info varchar(255), access_type varchar(255), address varchar(255), asset_provider varchar(255), categories varchar(255), charging_points_count int4, city varchar(255), flash_info varchar(255), location_service_info varchar(255), payment_info text, reservable boolean, state varchar(255), primary key (id));
create table elaboration (id int4 default nextval('elaboration_seq') not null, created_on timestamp, period int4, timestamp timestamp, value float8, station_id int8, type_id int8, primary key (id));
create table elaboration_history (id int8 default nextval('elaborationhistory_seq') not null, created_on timestamp, period int4, timestamp timestamp, value float8, station_id int8, type_id int8, primary key (id));
create table linkbasicdata (id int8 default nextval('basicdata_seq') not null, station_id int8, elapsed_time_default int4, length float8, linegeometry GEOMETRY, street_ids_ref varchar(255), destination_id int8, origin_id int8, primary key (id));
create table measurement (id int8 default nextval('measurement_seq') not null, created_on timestamp, period int4, timestamp timestamp, value float8, station_id int8, type_id int8, primary key (id));
create table measurementhistory (id int8 default nextval('measurementhistory_seq') not null, created_on timestamp, period int4, timestamp timestamp, value float8, station_id int8, type_id int8, primary key (id));
create table measurementmobile (id int8 default nextval('trafficvehiclerecord_seq') not null, af_1_sccm float8, af_1_valid_b boolean, can_acc_lat_mean_mps2 float8, can_acc_lat_mps2 float8, can_acc_lat_var_m2ps4 float8, can_acc_long_mean_mps2 float8, can_acc_long_mps2 float8, can_acc_long_var_m2ps4 float8, can_speed_mps float8, can_valid_b boolean, co_1_ppm float8, co_1_runtime_s int4, co_1_valid_b boolean, created_on timestamp, gps_1_alt_m float8, gps_1_hdg_deg float8, gps_1_lat_deg float8, gps_1_long_deg float8, gps_1_pdop_nr float8, gps_1_sat_nr int4, gps_1_speed_mps float8, gps_1_valid_b boolean, id_driver_nr int4, id_runtime_s int4, id_status_char varchar(255), id_system_nr int4, id_vehicle_nr int4, id_version_char varchar(255), imu_acc_lat_mean_mps2 float8, imu_acc_lat_mps2 float8, imu_acc_lat_var_m2ps4 float8, imu_acc_long_mean_mps2 float8, imu_acc_long_mps2 float8, imu_acc_long_var_m2ps4 float8, imu_speed_mps float8, imu_valid_b boolean, no2_1_microgm3_exp float8, no2_1_microgm3_ma float8, no2_1_ppb float8, no2_1_runtime_s int4, no2_1_valid_b boolean, no2_2_ppb float8, no2_2_runtime_s int4, no2_2_valid_b boolean, o3_1_ppb float8, o3_1_runtime_s int4, o3_1_valid_b boolean, position GEOMETRY, realtime_delay int8, res_1_a float8, res_1_runtime_s int4, res_1_valid_b boolean, res_2_a float8, res_2_runtime_s int4, res_2_valid_b boolean, rh_1_pct float8, rh_1_valid_b boolean, temp_1_c float8, temp_1_valid_b boolean, ts_ms timestamp, station_id int8, primary key (id));
create table measurementmobilehistory (id int8 default nextval('trafficvehiclerecordhistory_seq') not null, af_1_sccm float8, af_1_valid_b boolean, can_acc_lat_mean_mps2 float8, can_acc_lat_mps2 float8, can_acc_lat_var_m2ps4 float8, can_acc_long_mean_mps2 float8, can_acc_long_mps2 float8, can_acc_long_var_m2ps4 float8, can_speed_mps float8, can_valid_b boolean, co_1_ppm float8, co_1_runtime_s int4, co_1_valid_b boolean, created_on timestamp, gps_1_alt_m float8, gps_1_hdg_deg float8, gps_1_lat_deg float8, gps_1_long_deg float8, gps_1_pdop_nr float8, gps_1_sat_nr int4, gps_1_speed_mps float8, gps_1_valid_b boolean, id_driver_nr int4, id_runtime_s int4, id_status_char varchar(255), id_system_nr int4, id_vehicle_nr int4, id_version_char varchar(255), imu_acc_lat_mean_mps2 float8, imu_acc_lat_mps2 float8, imu_acc_lat_var_m2ps4 float8, imu_acc_long_mean_mps2 float8, imu_acc_long_mps2 float8, imu_acc_long_var_m2ps4 float8, imu_speed_mps float8, imu_valid_b boolean, no2_1_microgm3_exp float8, no2_1_microgm3_ma float8, no2_1_ppb float8, no2_1_runtime_s int4, no2_1_valid_b boolean, no2_2_ppb float8, no2_2_runtime_s int4, no2_2_valid_b boolean, o3_1_ppb float8, o3_1_runtime_s int4, o3_1_valid_b boolean, position GEOMETRY, realtime_delay int8, res_1_a float8, res_1_runtime_s int4, res_1_valid_b boolean, res_2_a float8, res_2_runtime_s int4, res_2_valid_b boolean, rh_1_pct float8, rh_1_valid_b boolean, temp_1_c float8, temp_1_valid_b boolean, ts_ms timestamp, station_id int8, primary key (id));
create table measurementstring (id int4 default nextval('measurementstring_seq') not null, created_on timestamp, period int4, timestamp timestamp, value varchar(255), station_id int8, type_id int8, primary key (id));
create table measurementstringhistory (id int8 default nextval('measurementstringhistory_seq') not null, created_on timestamp, period int4, timestamp timestamp, value varchar(255), station_id int8, type_id int8, primary key (id));
create table meteostationbasicdata (id int8 default nextval('basicdata_seq') not null, station_id int8, area varchar(255), zeus varchar(255), primary key (id));
create table station (stationtype varchar(31) not null, id int8 default nextval('station_seq') not null, active boolean, available boolean, description varchar(255), municipality varchar(255), name varchar(255), origin varchar(255), pointprojection GEOMETRY, shortname varchar(255), stationcode varchar(255) not null, primary key (id));
create table streetbasicdata (id int8 default nextval('basicdata_seq') not null, station_id int8, description varchar(255), length float8, linegeometry GEOMETRY, old_idstr int2, speed_default int4, primary key (id));
create table translation (DTYPE varchar(31) not null, id int8 default nextval('translation_seq') not null, address varchar(255), city varchar(255), name varchar(255), primary key (id));
create table type (id int8 default nextval('type_seq') not null, cname varchar(255), created_on timestamp, cunit varchar(255), description varchar(255), rtype varchar(255), primary key (id));
create index bdppermissions_stp_idx on bdppermissions (station_id, type_id, period);
alter table bdprole add constraint UK_47fpix67ktrhok7ee98qr4h9j unique (name);
alter table bdpuser add constraint UK_mrv0fdjjst8g4daq6l9vj5mk4 unique (email);
alter table carpooling_user_basic_data_translation add constraint UK_d3h5mm7mor930dxxjgmqcaims unique (location_id);
alter table carpoolinghub_basic_data_translation add constraint UK_102sqbmidwnsvvp5xjs0goayi unique (i18n_id);
create index measurement_tsdesc_idx on measurement (timestamp desc);
alter table measurement add constraint UK_6tvbxvtiou8witoj88k9jp48r unique (period, station_id, type_id);
create index measurementhistory_tsdesc_idx on measurementhistory (timestamp desc);
alter table measurementhistory add constraint uc_measurementhistory_station_id_type_id_timestamp_period unique (station_id, type_id, timestamp, period);
alter table station add constraint uc_station_stationcode_stationtype unique (stationcode, stationtype);
alter table alarm add constraint fk_alarm_specification_id_alarmspecification_pk foreign key (specification_id) references alarmspecification;
alter table alarm add constraint fk_alarm_station_id_station_pk foreign key (station_id) references station;
alter table bdppermissions add constraint fk_bdppermissions_role_id_bdprole_pk foreign key (role_id) references bdprole;
alter table bdppermissions add constraint fk_bdppermissions_station_id_station_pk foreign key (station_id) references station;
alter table bdppermissions add constraint fk_bdppermissions_type_id_type_pk foreign key (type_id) references type;
alter table bdprole add constraint fk_bdprole_parent_id_bdprole_pk foreign key (parent_id) references bdprole;
alter table bdprules add constraint fk_bdprules_role_id_bdprole_pk foreign key (role_id) references bdprole;
alter table bdprules add constraint fk_bdprules_station_id_station_pk foreign key (station_id) references station;
alter table bdprules add constraint fk_bdprules_type_id_type_pk foreign key (type_id) references type;
alter table bdpusers_bdproles add constraint fk_bdpusers_bdproles_role_id_bdprole_pk foreign key (role_id) references bdprole;
alter table bdpusers_bdproles add constraint fk_bdpusers_bdproles_user_id_bdpuser_pk foreign key (user_id) references bdpuser;
alter table bicyclebasicdata add constraint fk_bicyclebasicdata_bike_sharing_station_id_station_pk foreign key (bike_sharing_station_id) references station;
alter table bicyclebasicdata add constraint fk_bicyclebasicdata_type_id_type_pk foreign key (type_id) references type;
alter table bicyclebasicdata add constraint fk_bicyclebasicdata_station_id_station_pk foreign key (station_id) references station;
alter table bikesharing_station_basic_data add constraint fk_bikesharing_station_basic_data_type_id_type_pk foreign key (type_id) references type;
alter table bikesharing_station_basic_data add constraint fk_bikesharing_station_basic_data_station_id_station_pk foreign key (station_id) references station;
alter table bluetoothbasicdata add constraint fk_bluetoothbasicdata_station_id_station_pk foreign key (station_id) references station;
alter table carparkingbasicdata add constraint fk_carparkingbasicdata_station_id_station_pk foreign key (station_id) references station;
alter table carparkingdynamic add constraint fk_carparkingdynamic_station_id_station_pk foreign key (station_id) references station;
alter table carparkingdynamichistory add constraint fk_carparkingdynamichistory_station_id_station_pk foreign key (station_id) references station;
alter table carpooling_user_basic_data add constraint fk_carpooling_user_basic_data_hub_id_station_pk foreign key (hub_id) references station;
alter table carpooling_user_basic_data add constraint fk_carpooling_user_basic_data_station_id_station_pk foreign key (station_id) references station;
alter table carpooling_user_basic_data_translation add constraint fk_carpooling_user_basic_data_t_ion_location_id_translation_pk_ foreign key (location_id) references translation;
alter table carpooling_user_basic_data_translation add constraint fk_carpooling_user_basic_data_t__carpooling_user_basic_data_pk_ foreign key (carpooling_user_basic_data_id) references carpooling_user_basic_data;
alter table carpoolinghub_basic_data add constraint fk_carpoolinghub_basic_data_station_id_station_pk foreign key (station_id) references station;
alter table carpoolinghub_basic_data_translation add constraint fk_carpoolinghub_basic_data_translation_i18n_id_translation_pk foreign key (i18n_id) references translation;
alter table carpoolinghub_basic_data_translation add constraint fk_carpoolinghub_basic_data_tra_id_carpoolinghub_basic_data_pk_ foreign key (carpoolinghub_basic_data_id) references carpoolinghub_basic_data;
alter table carsharing_car_station_basic_data add constraint fk_carsharing_car_station_basic_rsharing_station_id_station_pk_ foreign key (carsharing_station_id) references station;
alter table carsharing_car_station_basic_data add constraint fk_carsharing_car_station_basic_data_station_id_station_pk foreign key (station_id) references station;
alter table carsharing_station_basic_data add constraint fk_carsharing_station_basic_data_station_id_station_pk foreign key (station_id) references station;
alter table data_type_i18n add constraint fk_data_type_i18n_data_type_id_type_pk foreign key (data_type_id) references type;
alter table echarging_plug_basic_data add constraint fk_echarging_plug_basic_data_e_station_id_station_pk foreign key (e_station_id) references station;
alter table echarging_plug_basic_data add constraint fk_echarging_plug_basic_data_station_id_station_pk foreign key (station_id) references station;
alter table echarging_plug_outlet add constraint fk_echarging_plug_outlet_plug_id_station_pk foreign key (plug_id) references station;
alter table echargingstation_basic_data add constraint fk_echargingstation_basic_data_station_id_station_pk foreign key (station_id) references station;
alter table elaboration add constraint fk_elaboration_station_id_station_pk foreign key (station_id) references station;
alter table elaboration add constraint fk_elaboration_type_id_type_pk foreign key (type_id) references type;
alter table elaboration_history add constraint fk_elaboration_history_station_id_station_pk foreign key (station_id) references station;
alter table elaboration_history add constraint fk_elaboration_history_type_id_type_pk foreign key (type_id) references type;
alter table linkbasicdata add constraint fk_linkbasicdata_destination_id_station_pk foreign key (destination_id) references station;
alter table linkbasicdata add constraint fk_linkbasicdata_origin_id_station_pk foreign key (origin_id) references station;
alter table linkbasicdata add constraint fk_linkbasicdata_station_id_station_pk foreign key (station_id) references station;
alter table measurement add constraint fk_measurement_station_id_station_pk foreign key (station_id) references station;
alter table measurement add constraint fk_measurement_type_id_type_pk foreign key (type_id) references type;
alter table measurementhistory add constraint fk_measurementhistory_station_id_station_pk foreign key (station_id) references station;
alter table measurementhistory add constraint fk_measurementhistory_type_id_type_pk foreign key (type_id) references type;
alter table measurementmobile add constraint fk_measurementmobile_station_id_station_pk foreign key (station_id) references station;
alter table measurementmobilehistory add constraint fk_measurementmobilehistory_station_id_station_pk foreign key (station_id) references station;
alter table measurementstring add constraint fk_measurementstring_station_id_station_pk foreign key (station_id) references station;
alter table measurementstring add constraint fk_measurementstring_type_id_type_pk foreign key (type_id) references type;
alter table measurementstringhistory add constraint fk_measurementstringhistory_station_id_station_pk foreign key (station_id) references station;
alter table measurementstringhistory add constraint fk_measurementstringhistory_type_id_type_pk foreign key (type_id) references type;
alter table meteostationbasicdata add constraint fk_meteostationbasicdata_station_id_station_pk foreign key (station_id) references station;
alter table streetbasicdata add constraint fk_streetbasicdata_station_id_station_pk foreign key (station_id) references station;
